name: uav
root: ./
pre_window: export UAV_NAME="uav1"; export RUN_TYPE=simulation; export UAV_TYPE=coppelia_quad; export WORLD_NAME=simulation; export SENSORS=""; export LOGGER_DEBUG=false; export DEBUG=false
startup_window: status
windows:
  - roscore:
      layout: tiled
      panes:
        - roscore
  - sim:
      layout: tiled
      panes:
        - waitForRos; rosparam set use_sim_time true; ../coppelia_simulator/coppeliaSim.sh ../coppelia_resources/world.ttt
  - hw_api:
      layout: tiled
      panes:
        - waitForTime; export UAV_NAME=uav1; roslaunch mrs_uav_coppelia_api api.launch
  - control:
      layout: tiled
      panes:
        - waitForHw; export UAV_NAME=uav1; roslaunch mrs_uav_general core.launch config_uav_manager:=./custom_configs/uav_manager.yaml config_active_estimators:=./custom_configs/active_estimators.yaml config_uav_manager:=./custom_configs/uav_manager.yaml
  - status:
      layout: tiled
      panes:
        - waitForHw; export UAV_NAME=uav1; roslaunch mrs_uav_status status.launch
  - takeoff:
      layout: tiled
      panes:
        - waitForControl; export UAV_NAME=uav1; rosservice call /uav1/uav_manager/midair_activation
  - rviz:
      layout: tiled
      panes:
        - waitForControl; rosrun rviz rviz -d rviz.rviz
        - waitForControl; roslaunch mrs_rviz_plugins load_robot.launch
        - waitForControl; waitForControl; roslaunch mrs_rviz_plugins rviz_interface.launch
